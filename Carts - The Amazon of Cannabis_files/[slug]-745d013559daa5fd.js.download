(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[24],{99337:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/category/[slug]",function(){return n(42324)}])},71348:function(e,a,n){"use strict";n.d(a,{Z:function(){return ProductItemGrid}});var t=n(85893),i=n(67294),s=n(11163),c=n(32177),r=n(87066);function ProductItemGrid(e){let{products:a,is_mix:n=!1}=e,[l,g]=(0,i.useState)([]),d=(0,s.useRouter)();return(0,i.useEffect)(()=>{let getProductIds=()=>a.map(e=>e.id),handleGetComments=async()=>{try{let e=getProductIds();if(!e)return;let a=await r.Z.post("/api/comment",{action:"getByProductids",product_ids:e});a.data.isSuccessful&&g(a.data.comments)}catch(e){console.log(e)}};(null==a?void 0:a.length)&&handleGetComments()},[d,a]),(0,t.jsx)(t.Fragment,{children:null==a?void 0:a.map((e,a)=>(0,t.jsx)(c.Z,{item:e,comments:null==l?void 0:l.filter(a=>a.product_id===e.id),is_mix:n},a))})}},42324:function(e,a,n){"use strict";n.r(a),n.d(a,{__N_SSP:function(){return _}});var t=n(85893),i=n(41664),s=n.n(i),c=n(30709),r=n.n(c),l=n(78611),g=n(65400),d=n.n(g),o=n(77834),u=n(64749),m=n(36155),p=n(8799),x=n(76720),h=n(87066),j=n(34196),v=n(67294),f=n(50361),N=n.n(f);n(10928);var P=n(68905);n(78993);var C=n(71348),_=!0;a.default=e=>{let{heading:a,menu:n,products:i,category:c,categoryId:g}=e,[f,_]=(0,v.useState)(N()({data:i,pagingation:{pageSize:100,pageIndex:1},requestParams:{categoryId:g,Price:0}})),[y,b]=(0,v.useState)(!1),[k,I]=(0,v.useState)(N()(i)),[S,Z]=(0,v.useState)([0,5e3]),[w,E]=(0,v.useState)(null);(0,v.useEffect)(()=>{E(g),Z([0,5e3]),I(i),_(e=>{let a=N()(e);return a.data=i,a.pagingation.pageIndex=1,a})},[g]);let{addToCart:O}=(0,P.j)(),getPrice=e=>e.sale_price>0?e.sale_price:e.price,handleFilter=async()=>{if(y){let e=await h.Z.post(j.Z.PRODUCT_GETDATA,{action:"category",category_id:w,start:0,total:1e3});if(201==e.status){let a=e.data.filter(e=>getPrice(e)>=S[0]&&getPrice(e)<=S[1]);I(a),_(e=>{let n=N()(e);return n.data=a,n.pagingation.pageIndex=1,n})}b(!1)}else _(e=>{let a=N()(e);return a.data=k.filter(e=>getPrice(e)>=S[0]&&getPrice(e)<=S[1]),a.pagingation.pageIndex=1,a})},F=(0,t.jsxs)("div",{className:"box-ranger",children:[(0,t.jsx)(m.Z,{range:!0,min:0,max:5e3,value:S,onChange:e=>Z(e)}),(0,t.jsxs)("div",{className:"range-inputs-fill",children:[(0,t.jsx)(p.Z,{min:0,max:S[1],value:S[0],onChange:e=>Z([e||0,S[1]]),prefix:"$"}),(0,t.jsx)("span",{children:" - "}),(0,t.jsx)(p.Z,{min:S[0],max:5e3,value:S[1],onChange:e=>Z([S[0],e||5e3]),prefix:"$"})]}),"Selected Range: ",S[0]," - ",S[1]]}),handleChangeCate=e=>{E(e),b(!0)},OnClickPaging=e=>{_(a=>{let n=N()(a);return n.pagingation.pageIndex=e,n})},renderPagingItem=(e,a,n)=>(0,t.jsx)(t.Fragment,{children:e>=1&&e<=n&&(0,t.jsx)("li",{className:"btn-pagi ".concat(e==a?"active":""),onClick:()=>OnClickPaging(e),children:e})}),T=(()=>{if(null==f.data)return[];let{pageIndex:e,pageSize:a}=f.pagingation,n=(e-1)*a,t=f.data.slice(n,n+a);return t})();return(0,t.jsx)("div",{className:"page ".concat(a),children:(0,t.jsxs)("div",{className:r().topBanner,children:[(0,t.jsxs)("div",{className:r().wrapperImage,style:{backgroundImage:"url(".concat(""!=c.feature_image?c.feature_image:"/asset/categorypage.png",")")},children:[(0,t.jsxs)("ul",{className:"breadcrumb",children:[(0,t.jsx)("li",{children:(0,t.jsx)(s(),{href:"/",children:"Home"})}),(0,t.jsx)("li",{children:(0,t.jsx)(s(),{href:"/category/".concat(c.slug,"-").concat(c.id),children:c.name})})]}),(0,t.jsxs)("div",{className:r().headingCategory,children:[(0,t.jsx)("span",{children:c.name}),(0,t.jsx)("img",{src:"/asset/Lightpng.png",alt:"line",className:r().lineLine})]})]}),(0,t.jsx)("div",{className:r().mainCategory,children:(0,t.jsxs)("div",{className:"container",children:[(0,t.jsxs)("div",{className:"category-control",children:[(0,t.jsx)("div",{className:"category-control-info",children:(()=>{let{pageIndex:e,pageSize:a}=f.pagingation,n=f.data.length,t=(e-1)*a+1,i=t+a-1;return i=n<i?n:i,"Showing ".concat(t,"â€“").concat(i," of ").concat(n," item(s)")})()}),(0,t.jsx)("div",{className:"category-control-main",children:(0,t.jsxs)("form",{children:[(0,t.jsx)(u.default,{size:"middle",value:w,onChange:e=>handleChangeCate(e),options:n.map(e=>({value:e.id,label:"".concat("--".repeat(e.level-1)," ").concat(e.name)})),className:"custom-select"}),(0,t.jsx)(o.Z,{overlay:F,trigger:["click"],children:(0,t.jsxs)(d(),{className:"custom-btn-atd",children:["Price ",(0,t.jsx)(x.Z,{})]})}),(0,t.jsx)("button",{type:"button",className:"btn btn-secondary btn-filter",onClick:handleFilter,children:"FILTER"})]})})]}),(0,t.jsxs)("div",{className:r().categoryProductItems,children:[(0,t.jsx)(C.Z,{products:T}),0==T.length&&(0,t.jsx)("p",{className:"nodata",children:"No Data Found"})]}),(0,t.jsx)("div",{className:"pagination",children:T.length>0&&(()=>{let{pageIndex:e,pageSize:a}=f.pagingation,n=Math.ceil(f.data.length/a);if(n<=1)return(0,t.jsx)(t.Fragment,{});let i=1==e,s=e==n,c=1,r=2,l=3;return e==n?(c=e-2,r=e-1,l=e):e>1&&(c=e-1,r=e,l=e+1),(0,t.jsxs)("ul",{children:[!i&&n>3&&(0,t.jsx)("li",{className:"btn-pagi prev-pagi",onClick:()=>OnClickPaging(1),children:(0,t.jsx)("img",{src:"/asset/pagi-prev.svg",alt:"prev"})}),!i&&n>3&&(0,t.jsx)("li",{className:"btn-pagi prev-pagi",onClick:()=>OnClickPaging(e-1),children:(0,t.jsx)("img",{src:"/asset/pagi-prev.svg",alt:"prev"})}),renderPagingItem(c,e,n),renderPagingItem(r,e,n),renderPagingItem(l,e,n),!s&&n>3&&(0,t.jsx)("li",{className:"btn-pagi next-pagi",onClick:()=>OnClickPaging(e+1),children:(0,t.jsx)("img",{src:"/asset/pagi-next.svg",alt:"next"})}),!s&&n>3&&(0,t.jsx)("li",{className:"btn-pagi next-pagi",onClick:()=>OnClickPaging(n),children:(0,t.jsx)("img",{src:"/asset/pagi-next.svg",alt:"prev"})})]})})()})]})}),(0,t.jsx)(l.Z,{})]})})}}},function(e){e.O(0,[291,810,12,884,774,888,179],function(){return e(e.s=99337)}),_N_E=e.O()}]);