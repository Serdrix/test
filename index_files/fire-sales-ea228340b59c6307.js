(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6747],{17105:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/category/fire-sales",function(){return n(59469)}])},71348:function(e,a,n){"use strict";n.d(a,{Z:function(){return ProductItemGrid}});var i=n(85893),t=n(67294),s=n(11163),r=n(32177),c=n(87066);function ProductItemGrid(e){let{products:a,is_mix:n=!1}=e,[l,g]=(0,t.useState)([]),d=(0,s.useRouter)();return(0,t.useEffect)(()=>{let getProductIds=()=>a.map(e=>e.id),handleGetComments=async()=>{try{let e=getProductIds();if(!e)return;let a=await c.Z.post("/api/comment",{action:"getByProductids",product_ids:e});a.data.isSuccessful&&g(a.data.comments)}catch(e){console.log(e)}};(null==a?void 0:a.length)&&handleGetComments()},[d,a]),(0,i.jsx)(i.Fragment,{children:null==a?void 0:a.map((e,a)=>(0,i.jsx)(r.Z,{item:e,comments:null==l?void 0:l.filter(a=>a.product_id===e.id),is_mix:n},a))})}},59469:function(e,a,n){"use strict";n.r(a),n.d(a,{__N_SSP:function(){return P}});var i=n(85893),t=n(41664),s=n.n(t),r=n(30709),c=n.n(r),l=n(78611),g=n(65400),d=n.n(g),o=n(77834),u=n(36155),m=n(8799),p=n(76720),x=n(67294),h=n(50361),j=n.n(h),v=n(68905),f=n(71348),N=n(11163),P=!0;a.default=e=>{let{heading:a,menu:n,products:t}=e,r=(0,N.useRouter)(),[g,h]=(0,x.useState)(j()({data:t,pagingation:{pageSize:100,pageIndex:1},requestParams:{Price:0}})),[P,C]=(0,x.useState)(!1),[_,k]=(0,x.useState)(j()(t)),[b,y]=(0,x.useState)([0,5e3]);(0,x.useEffect)(()=>{y([0,5e3]),k(t),h(e=>{let a=j()(e);return a.data=t,a.pagingation.pageIndex=1,a})},[r.asPath]);let{addToCart:I}=(0,v.j)(),getPrice=e=>e.sale_price>0?e.sale_price:e.price,handleFilter=async()=>{h(e=>{let a=j()(e);return a.data=_.filter(e=>getPrice(e)>=b[0]&&getPrice(e)<=b[1]),a.pagingation.pageIndex=1,a})},S=(0,i.jsxs)("div",{className:"box-ranger",children:[(0,i.jsx)(u.Z,{range:!0,min:0,max:5e3,value:b,onChange:e=>y(e)}),(0,i.jsxs)("div",{className:"range-inputs-fill",children:[(0,i.jsx)(m.Z,{min:0,max:b[1],value:b[0],onChange:e=>y([e||0,b[1]]),prefix:"$"}),(0,i.jsx)("span",{children:" - "}),(0,i.jsx)(m.Z,{min:b[0],max:5e3,value:b[1],onChange:e=>y([b[0],e||5e3]),prefix:"$"})]}),"Selected Range: ",b[0]," - ",b[1]]}),OnClickPaging=e=>{h(a=>{let n=j()(a);return n.pagingation.pageIndex=e,n})},renderPagingItem=(e,a,n)=>(0,i.jsx)(i.Fragment,{children:e>=1&&e<=n&&(0,i.jsx)("li",{className:"btn-pagi ".concat(e==a?"active":""),onClick:()=>OnClickPaging(e),children:e})}),Z=(()=>{if(null==g.data)return[];let{pageIndex:e,pageSize:a}=g.pagingation,n=(e-1)*a,i=g.data.slice(n,n+a);return i})();return(0,i.jsx)("div",{className:"page ".concat(a),children:(0,i.jsxs)("div",{className:c().topBanner,children:[(0,i.jsxs)("div",{className:c().wrapperImage,style:{backgroundImage:"url(/asset/categorypage.png)"},children:[(0,i.jsxs)("ul",{className:"breadcrumb",children:[(0,i.jsx)("li",{children:(0,i.jsx)(s(),{href:"/",children:"Home"})}),(0,i.jsx)("li",{children:(0,i.jsx)(s(),{href:"/fire-sales",children:"Fire Sales"})})]}),(0,i.jsxs)("div",{className:c().headingCategory,children:[(0,i.jsx)("span",{children:"Fire Sales"}),(0,i.jsx)("img",{src:"/asset/Lightpng.png",alt:"line",className:c().lineLine})]})]}),(0,i.jsx)("div",{className:c().mainCategory,children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsxs)("div",{className:"category-control",children:[(0,i.jsx)("div",{className:"category-control-info",children:(()=>{let{pageIndex:e,pageSize:a}=g.pagingation,n=g.data.length,i=(e-1)*a+1,t=i+a-1;return t=n<t?n:t,"Showing ".concat(i,"â€“").concat(t," of ").concat(n," item(s)")})()}),(0,i.jsx)("div",{className:"category-control-main",children:(0,i.jsxs)("form",{children:[(0,i.jsx)(o.Z,{overlay:S,trigger:["click"],children:(0,i.jsxs)(d(),{className:"custom-btn-atd",children:["Price ",(0,i.jsx)(p.Z,{})]})}),(0,i.jsx)("button",{type:"button",className:"btn btn-secondary btn-filter",onClick:handleFilter,children:"FILTER"})]})})]}),(0,i.jsxs)("div",{className:c().categoryProductItems,children:[(0,i.jsx)(f.Z,{products:Z}),0==Z.length&&(0,i.jsx)("p",{className:"nodata",children:"No Data Found"})]}),(0,i.jsx)("div",{className:"pagination",children:Z.length>0&&(()=>{let{pageIndex:e,pageSize:a}=g.pagingation,n=Math.ceil(g.data.length/a);if(n<=1)return(0,i.jsx)(i.Fragment,{});let t=1==e,s=e==n,r=1,c=2,l=3;return e==n?(r=e-2,c=e-1,l=e):e>1&&(r=e-1,c=e,l=e+1),(0,i.jsxs)("ul",{children:[!t&&n>3&&(0,i.jsx)("li",{className:"btn-pagi prev-pagi",onClick:()=>OnClickPaging(1),children:(0,i.jsx)("img",{src:"/asset/pagi-prev.svg",alt:"prev"})}),!t&&n>3&&(0,i.jsx)("li",{className:"btn-pagi prev-pagi",onClick:()=>OnClickPaging(e-1),children:(0,i.jsx)("img",{src:"/asset/pagi-prev.svg",alt:"prev"})}),renderPagingItem(r,e,n),renderPagingItem(c,e,n),renderPagingItem(l,e,n),!s&&n>3&&(0,i.jsx)("li",{className:"btn-pagi next-pagi",onClick:()=>OnClickPaging(e+1),children:(0,i.jsx)("img",{src:"/asset/pagi-next.svg",alt:"next"})}),!s&&n>3&&(0,i.jsx)("li",{className:"btn-pagi next-pagi",onClick:()=>OnClickPaging(n),children:(0,i.jsx)("img",{src:"/asset/pagi-next.svg",alt:"prev"})})]})})()})]})}),(0,i.jsx)(l.Z,{})]})})}}},function(e){e.O(0,[361,9012,884,9774,2888,179],function(){return e(e.s=17105)}),_N_E=e.O()}]);